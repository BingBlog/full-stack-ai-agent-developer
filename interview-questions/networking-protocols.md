# 网络协议与实时通信

## TCP/IP 基础

1. [频率:高][难度:易] 描述 TCP 三次握手与四次挥手流程，并解释 TIME_WAIT 的作用。 提示：连接建立、旧包清理、重用端口。
2. [频率:高][难度:易] SYN Flood 攻击对服务有何影响，如何通过参数调优缓解？ 提示：SYN backlog、SYN cookies、防火墙。
3. [频率:高][难度:中] 对比 TCP 与 UDP 的可靠性与延迟特性，何时适合选择 UDP？ 提示：无连接、拥塞控制、实时性。
4. [频率:高][难度:中] TCP 拥塞控制算法（Reno、Cubic、BBR）各自特点是什么？ 提示：慢启动、拥塞避免、带宽估计。
5. [频率:中][难度:中] Keepalive 与应用层心跳的区别是什么？ 提示：协议栈 vs 应用层、可配置性、资源消耗。
6. [频率:中][难度:难] 描述 MTU、MSS、分片对传输性能的影响。 提示：路径 MTU、IP 分片、TCP 分段。
7. [频率:中][难度:难] 分享一次你调优内核网络参数以支持高并发的案例。 提示：sysctl、队列长度、连接回收。

## HTTP 演进与缓存

1. [频率:高][难度:易] HTTP/1.1 为何容易出现队头阻塞？如何使用连接池改善？ 提示：pipeline、串行、多连接。
2. [频率:高][难度:易] HTTP/2 的多路复用如何工作，仍可能出现哪些阻塞问题？ 提示：单 TCP 流、优先级、HOL。
3. [频率:高][难度:中] 如何设置缓存头（Cache-Control、ETag）以减少重复请求？ 提示：max-age、revalidate、强校验。
4. [频率:高][难度:中] 解释 Content-Encoding 与 Transfer-Encoding 的差异。 提示：压缩 vs 分块、适用场景。
5. [频率:中][难度:中] 当 AI 接口需要长时间响应时，如何设计超时与重试机制？ 提示：客户端超时、后端中断、幂等。
6. [频率:中][难度:难] 描述 HTTP/2 Server Push 的原理及在实践中的利弊。 提示：预推送、缓存污染、被 HTTP/3 弃用。
7. [频率:中][难度:难] 分享一次你解决 HTTP 代理或 CDN 兼容性问题的经历。 提示：头部处理、缓存策略、调试工具。

## QUIC 与 HTTP/3

1. [频率:高][难度:易] QUIC 如何利用 UDP 实现类似 TCP 的可靠传输？ 提示：帧结构、流控制、重传。
2. [频率:中][难度:易] HTTP/3 相比 HTTP/2 的性能优势体现在哪些方面？ 提示：0-RTT、无队头阻塞、连接迁移。
3. [频率:中][难度:中] QUIC 的 0-RTT 带来哪些安全风险，如何防范重放攻击？ 提示：PSK、Token、请求验证。
4. [频率:中][难度:中] 在弱网或移动网络场景中，QUIC 如何保持连接稳定？ 提示：连接 ID、路径迁移、快速恢复。
5. [频率:低][难度:中] 部署 HTTP/3 时，服务器与 CDN 需要哪些配置？ 提示：证书、ALPN、端口、支持度。
6. [频率:低][难度:难] 如何调试和监控 QUIC 连接问题？ 提示：qlog、Chrome Net Export、抓包工具。
7. [频率:低][难度:难] 分享一次你在项目中落地 HTTP/3 的经验与收益。 提示：延迟数据、兼容性、挑战。

## 实时通信协议

1. [频率:高][难度:易] WebSocket 握手过程如何从 HTTP 升级？ 提示：Upgrade、Connection、Sec-WebSocket-Key。
2. [频率:中][难度:易] 设计 WebSocket 心跳与重连策略时需要考虑哪些参数？ 提示：ping/pong、超时时间、指数退避。
3. [频率:中][难度:中] SSE 的单向流特点适合哪些场景？ 提示：服务器推送、简易性、浏览器支持。
4. [频率:中][难度:中] 比较 WebSocket、SSE、Long Polling 的优缺点。 提示：双向、兼容、资源消耗。
5. [频率:低][难度:中] WebRTC 在实时音视频中的优势是什么？在数据通道中如何用于协同？ 提示：P2P、DTLS、DataChannel。
6. [频率:低][难度:难] 如何在 WebSocket 通道中实现消息顺序与幂等？ 提示：消息 ID、ACK、补偿。
7. [频率:低][难度:难] 分享一次你优化实时推送稳定性的经验。 提示：连接分层、状态同步、监控。

## gRPC 与 API 设计

1. [频率:高][难度:易] gRPC 的 Proto 定义如何映射到多语言客户端？ 提示：IDL、代码生成、契约。
2. [频率:中][难度:易] gRPC 与 REST 在性能与类型安全上的差异是什么？ 提示：HTTP/2、二进制、schema。
3. [频率:中][难度:中] 如何在 gRPC 中实现流式调用支持推理中间结果？ 提示：server streaming、双向流、背压。
4. [频率:中][难度:中] gRPC Gateway 的作用是什么？ 提示：REST 兼容、文档、观测。
5. [频率:低][难度:中] 当需要多版本 API 时，gRPC 的版本管理策略有哪些？ 提示：包名、服务名、字段兼容。
6. [频率:低][难度:难] 如何为 gRPC 接口设计超时与重试策略？ 提示：deadline、retry policy、幂等。
7. [频率:低][难度:难] 分享一次你从 REST 迁移到 gRPC 的经历。 提示：性能收益、上线步骤、兼容性。

## 网络可靠性与安全

1. [频率:高][难度:中] 如何配置 TLS 以确保低延迟同时保持安全？ 提示：TLS1.3、Session Resumption、证书更新。
2. [频率:中][难度:中] 解释 HSTS、HPKP 等浏览器安全机制与适用场景。 提示：强制 HTTPS、证书固定。
3. [频率:中][难度:难] 代理或负载均衡层如何实现连接复用与健康检查？ 提示：Nginx、Envoy、Keepalive。
4. [频率:中][难度:难] 什么是 Circuit Breaker，它在网络调用中如何避免雪崩？ 提示：故障隔离、熔断、半开。
5. [频率:低][难度:难] 零信任网络中，如何对服务间通信进行认证与授权？ 提示：mTLS、SPIFFE、策略。
6. [频率:低][难度:难] 描述 DDoS 防护的常见策略与云服务支持。 提示：流量清洗、WAF、限速。
7. [频率:低][难度:难] 分享一次你处理网络安全事件（证书过期、攻击）的过程。 提示：检测、响应、复盘。

## CDN 与性能优化

1. [频率:高][难度:易] CDN 的缓存层级（边缘、区域、源站）如何协同？ 提示：分层缓存、回源策略、TTL 继承。
2. [频率:中][难度:易] 如何设计 CDN 缓存策略以兼顾静态资源与 AI API 的动态内容？ 提示：Cache-Control、Key 自定义、stale-if-error。
3. [频率:中][难度:中] 在多 CDN 混用策略中，如何实现健康检查与自动切换？ 提示：智能 DNS、熔断、权重分配。
4. [频率:中][难度:中] 描述边缘函数（Edge Functions/Workers）在 AI 响应预处理中的应用。 提示：请求裁剪、鉴权、A/B 分流。
5. [频率:中][难度:中] CDN 回源失败时常见原因有哪些，如何排查？ 提示：Host Header、TLS、超时、黑名单。
6. [频率:低][难度:中] WebSocket 或 SSE 穿透 CDN 时需要做哪些配置？ 提示：协议升级、回源保持、超时。
7. [频率:低][难度:难] 如何利用 CDN 日志与实时监控定位性能瓶颈？ 提示：边缘日志、回源时间、状态码分布。
8. [频率:低][难度:难] 分享一次你通过优化 CDN 配置显著降低延迟或成本的案例。 提示：命中率提升、边缘缓存、带宽费用。
